/* events.css - combined: closed card + open card that matches your original prompt */
/* wrapper and columns */
.event-wrapper {
  margin-top: 2%;
  height: 100%;
  width: 100%;
  display: flex;
}

.event-columns {
  height: 100%;
  width: 50%;
  display: flex;
  flex-direction: column;
  gap: 20px;
  margin-right: 12px;
}

/* --------------------------
   BASE (closed) CARD
   -------------------------- */
.event-card {
  display: flex;
  align-items: stretch;
  width: 100%;
  background: #222222; /* dark background */
  color: #fff;
  border-radius: 16px;
  overflow: hidden;
  min-height: 12%;
  box-shadow: 0 4px 12px rgba(0,0,0,0.5);
  font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;

  /* PERFORMANCE CHANGE: do not animate max-height (causes layout thrash on Pi).
     keep only cheap animations (box-shadow, transform) */
  transition: box-shadow 180ms linear, transform 180ms linear;
  /* Remove max-height transitions to avoid expensive layout work */
  max-height: 140px;
  position: relative;
}

/* left image column for closed card */
.event-image {
  flex: 0 0 48%;
  height: 100%;
  background: #1f1f1f;
  display: flex;
  align-items: center;
  justify-content: center;
  /* PERFORMANCE CHANGE: do not transition flex-basis/height; use opacity/transform only where needed */
  transition: opacity 220ms linear;
  overflow: hidden;
}

.event-img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
  transform-origin: center;
  /* small, cheap transform for subtle effect */
  transition: transform 260ms linear, opacity 220ms linear;
  will-change: transform, opacity;
}

/* placeholder if no image */
.event-noimage {
  width: 100%;
  height: 100%;
  display:flex;
  align-items:center;
  justify-content:center;
  color:#9ca3af;
  font-size: 0.9rem;
}

/* right content (closed) */
.event-body {
  display: flex;
  box-sizing: border-box;
  flex-direction: column;
  width: 100%;
  height: 100%;
  justify-content: space-between;
  padding-top: 10px;
  /* PERFORMANCE CHANGE: keep padding change immediate; use opacity/transform for animation */
  transition: padding 120ms linear;
}

/* event-top for closed card (keeps title centered) */
.event-top {
  padding-left: 12px;
  max-width: 100%;
  display: flex;
  width: 100%;
  flex-direction: column;
  align-items: center;
  gap: 6px;
}

/* title (closed) */
.event-title {
  max-width: 100%;
  margin: 0;
  font-weight: 600;
  line-height: 1.1;
  color: #fff;
  overflow:hidden;
  text-overflow: ellipsis;
  box-sizing: border-box;
  padding-top: 10px;
  padding-bottom: 5px;
  text-align: center;
  max-width: 90%;

  /* PERFORMANCE-FRIENDLY transition: only transform & opacity */
  will-change: transform, opacity;
  transition: transform 260ms linear, opacity 220ms linear, color 160ms linear;
  white-space: nowrap;
}

/* meta (closed) */
.event-meta {
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  color: #cbd5e1;
  opacity: 0.9;
  padding-bottom: 10px;
}

.event-sep {
  color: #6b7280;
}

/* bottom indicator */
.event-bottom {
  min-height: 2px;
  height: 2px;
  max-height: 2px;
  width: 100%;
  /* avoid animating height (layout) on Pi; keep immediate */
}

/* --------------------------
   OPEN CARD (visually match original)
   -------------------------- */
/* When card gets .event-open it becomes column layout with big image top */
.event-card.event-open {
  display: flex;
  flex-direction: column;
  align-items: stretch;
  width: 100%;
  background: #222222;
  color: #fff;
  border-radius: 16px;
  overflow: hidden;
  /* visually like your original min-height: 27% — use a pixel fallback for consistency */
  min-height: 27%;
  box-shadow: 0 10px 30px rgba(0,0,0,0.6);
  font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;

  /* PERFORMANCE CHANGE: don't animate max-height — change layout instantly, animate inner opacity */
  transition: box-shadow 180ms linear, transform 180ms linear;
  max-height: 720px; /* large enough to show expanded content; tweak if needed */
}

/* image becomes hero on top in open state */
.event-card.event-open .event-image {
  flex: 0 0 auto;
  width: 100%;
  /* PERFORMANCE CHANGE: set the height instantly (no transition); animate only transform/opacity */
  height: 60%;
  transition: opacity 220ms linear;
}

/* subtle image zoom when open — transform only (cheap) */
.event-card.event-open .event-img {
  transform: scale(1.03);
  opacity: 1;
}

/* body for open card */
.event-card.event-open .event-body {
  display: flex;
  box-sizing: border-box;
  width: 100%;
  height: 55%;
  justify-content: space-between;
  align-items: center;
  padding-left: 30px;
  padding-right: 30px;
  padding-top: 16px;
  padding-bottom: 16px;
  /* PERFORMANCE: avoid height transitions; immediate layout change */
  transition: padding 160ms linear;
}

/* In the open card your prompt used .event-body-open; we replicate that look */
.event-card.event-open .event-body .event-top {
  align-items: center;
  justify-content: center;
  padding-left: 0;
  width: 100%;
}

/* title open styling mirrors your original */
.event-card.event-open .event-title {
  margin: 0;
  font-weight: 600;
  color: #fff;
  overflow:hidden;
  text-overflow: ellipsis;
  box-sizing: border-box;
  text-align: center;
  font-size: 1.0rem; /* baseline; responsive rules below will scale larger screens */
  line-height: 1.1;

  /* in open state allow wrapping: but still do not animate layout; animate opacity/transform only */
  white-space: normal;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  transform: translateY(-6px) scale(1.02);
  opacity: 1;
}

/* meta open (centered) */
.event-card.event-open .event-meta {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 8px;
  color: #cbd5e1;
  opacity: 0.9;
  min-width: 30%;
  max-width: 45%;
  padding-bottom: 0;
}
.event-body-inner {
  display: flex; 
  flex-direction: column;
  align-items: center;
  gap: 8px; 
  height: 100%;
  width: 100%;
}
.event-open .event-body-inner {
  display: flex; 
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
  height: 100%;
  width: 100%;
}

.event-open .event-top {
  width: 50%;
  max-width: 90%;
}

/* make inner content fade/slide slightly for nicer open animation
   (only cheap transforms/opacity) */
.event-body .event-top,
.event-body .event-meta {
  transition: opacity 220ms linear, transform 220ms linear;
  opacity: 0.98;
  transform: translateY(0);
}

/* bottom indicator remains at bottom of card in open state; keep static height */
.event-card.event-open .event-bottom {
  min-height: 4px;
  height: 4px;
  max-height: 8px;
}

/* ---------- smoother title transitions ----------
   (kept but cheap: only transform + opacity) */

/* hint the browser this element will animate (helps performance) */
.event-title {
  /* already set above; keep will-change narrowed to transform + opacity */
  will-change: transform, opacity;
  transition: transform 260ms linear, opacity 220ms linear, color 160ms linear;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  transform-origin: center;
  transform: translateY(0) scale(1);
  opacity: 0.98;
}

/* open state: lift + scale slightly and increase opacity */
.event-card.event-open .event-title {
  transform: translateY(-6px) scale(1.02);
  opacity: 1;
  color: #ffffff;
}

/* when closed, slightly smaller and nudged down so the transition feels like a lift */
.event-card:not(.event-open) .event-title {
  transform: translateY(0) scale(0.995);
  opacity: 0.95;
}

/* also animate the container so title movement feels anchored */
.event-card .event-top {
  transition: padding 160ms linear, transform 160ms linear;
}

/* keep will-change minimal for images */
.event-card .event-image,
.event-card .event-img {
  will-change: transform, opacity;
}


/* --------------------------
   RESPONSIVE FONT & SIZING (kept from original)
   -------------------------- */
@media (min-width: 1000px) {
  .event-title{ font-size: 1.0rem;}
  .event-meta {font-size: 1.0rem;}
  .event-card.event-open .event-title{ font-size: 1.0rem;}
  .event-card.event-open .event-meta{ font-size: 1.0rem;}
}

@media (min-width: 1800px) {
  .event-title{ font-size: 1.40rem;}
  .event-meta {font-size: 1.1rem;}
  .event-card.event-open .event-title{ font-size: 1.40rem;}
  .event-card.event-open .event-meta{ font-size: 1.1rem;}
}

@media (min-width: 2500px) {
  .event-title { font-size: 1.8rem; padding-top: 20px;}
  .event-card.event-open .event-title{ font-size: 2.4rem; padding-top: 0px; }
  .event-body-inner {gap: 30px;}
  .event-meta, .event-card.event-open .event-meta {font-size: 1.8rem;}
}

@media (min-width: 3200px) {
  .event-title { font-size: 2.6rem; padding-top: 30px;}
  .event-card.event-open .event-title{ font-size: 3.0rem; padding-top: 0px; }
  .event-meta, .event-card.event-open .event-meta {font-size: 2.4rem;}
  .event-columns {
    gap: 30px; 
    margin-right: 30px;
  }
  .event-bottom { 
    height: 4px; 
    max-height: 4px;
  }
}

/* small responsive tweak */
@media (max-width: 480px) {
  .event-image { flex: 0 0 120px; height: auto; }
  .event-title { font-size: 1rem; }
  .event-card.event-open .event-image { height: 180px; } /* keep open hero image reasonable on small screens */
}
